{# templates/CENRO/CENRO_dashboard.html #}
{% extends "base.html" %}
{% load static %}

{% block title %}CENRO Dashboard{% endblock %}

{% block extra_css %}
<!-- Chart.js for charts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
{% endblock %}

{% block content %}
  <div class="content-surface">
    <!-- Stats row -->
    <div class="stat-grid">
      <div class="stat-card">
        <h3>APPROVED</h3>
        <img src="{% static 'images/approved.png'%}" alt="Approved">
        <div class="value">800</div>
      </div>
      <div class="stat-card">
        <h3>REJECTED</h3>
        <img src="{% static 'images/rejected.png'%}" alt="Rejected">
        <div class="value">600</div>
      </div>
      <div class="stat-card">
        <h3>PENDING</h3>
        <img src="{% static 'images/pending.png'%}" alt="Pending">
        <div class="value">2000</div>
      </div>
      <div class="stat-card">
        <h3>EVALUATORS</h3>
        <img src="{% static 'images/evaluators.png'%}" alt="Evaluators">
        <div class="value">500</div>
      </div>
    </div>

    <!-- Charts row -->
    <div class="chart-grid">
      <div class="chart-frame">
        <h4>Performance of Regional Economies</h4>
        <div class="chart-container">
          <canvas id="barChart"></canvas>
        </div>
      </div>
      <div class="chart-frame">
        <h4>Most Used Operating Systems</h4>
        <div class="chart-container">
          <canvas id="pieChart"></canvas>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block extra_js %}
<script>
  // Bar Chart for Regional Economies Performance
  const barCtx = document.getElementById('barChart').getContext('2d');
  const barChart = new Chart(barCtx, {
      type: 'bar',
      data: {
          labels: ['Region 1', 'Region 2', 'Region 3', 'Region 4', 'Region 5', 'Region 6', 'Region 7', 'Region 8', 'Region 9', 'Region 10'],
          datasets: [{
              label: 'Growth Rate (%)',
              data: [7.5, 6.8, 7.8, 5.9, 6.0, 5.7, 6.3, 6.7, 4.2, 5.5],
              backgroundColor: '#4A90E2',
              borderColor: '#357ABD',
              borderWidth: 1,
              borderRadius: 4
          }]
      },
      options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
              legend: {
                  display: false
              }
          },
          scales: {
              y: {
                  beginAtZero: true,
                  max: 8,
                  ticks: {
                      font: {
                          size: 10
                      }
                  }
              },
              x: {
                  ticks: {
                      font: {
                          size: 10
                      }
                  }
              }
          }
      }
  });

  // Pie Chart for Operating Systems
  const pieCtx = document.getElementById('pieChart').getContext('2d');
  const pieChart = new Chart(pieCtx, {
      type: 'doughnut',
      data: {
          labels: ['Windows 7', 'Mac OS', 'Others', 'iPhone', 'Android OS'],
          datasets: [{
              data: [30, 25, 20, 15, 10],
              backgroundColor: [
                  '#FF6B35',
                  '#4A90E2',
                  '#50C878',
                  '#FFD700',
                  '#FF69B4'
              ],
              borderWidth: 2,
              borderColor: '#fff'
          }]
      },
      options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
              legend: {
                  position: 'right',
                  labels: {
                      font: {
                          size: 11
                      },
                      padding: 15,
                      usePointStyle: true
                  }
              }
          }
      }
  });
</script>
{% endblock %}